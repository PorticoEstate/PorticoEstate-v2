import { QUICK_EVENT, customElements, off, on } from "./utils.js";
import { UHTMLComboboxElement } from "@u-elements/u-combobox";

//#region src/suggestion.ts
var DSSuggestionElement = class extends UHTMLComboboxElement {
	connectedCallback() {
		super.connectedCallback();
		on(this, "toggle", polyfillToggleSource, QUICK_EVENT);
	}
	disconnectedCallback() {
		super.disconnectedCallback();
		off(this, "toggle", polyfillToggleSource, QUICK_EVENT);
	}
};
customElements.define("ds-suggestion", DSSuggestionElement);
function polyfillToggleSource({ target: el, newState }) {
	const detail = newState === "open" && el instanceof Element && el.id && document.querySelector(`input[list="${el.id}"]`);
	if (detail) el.dispatchEvent(new CustomEvent("ds-toggle-source", { detail }));
}

//#endregion
export { DSSuggestionElement };
//# sourceMappingURL=suggestion.js.map