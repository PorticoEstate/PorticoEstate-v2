{"version":3,"file":"toggle-group.cjs","names":["attr","onHotReload","on","onMutation"],"sources":["../../src/toggle-group.ts"],"sourcesContent":["import { attr, on, onHotReload, onMutation } from './utils';\r\n\r\nconst ATTR_TOGGLEGROUP = 'data-toggle-group';\r\nconst SELECTOR_TOGGLEGROUP = `[${ATTR_TOGGLEGROUP}]`;\r\n\r\nfunction handleAriaAttributes() {\r\n  for (const group of document.querySelectorAll(SELECTOR_TOGGLEGROUP))\r\n    attr(group, 'aria-label', attr(group, ATTR_TOGGLEGROUP));\r\n}\r\n\r\nfunction handleKeydown(event: Partial<KeyboardEvent>) {\r\n  const group =\r\n    event.target instanceof HTMLInputElement &&\r\n    event.target.closest(SELECTOR_TOGGLEGROUP);\r\n\r\n  if (!group) return;\r\n  if (event.key === 'Enter') event.target.click(); // Forward Enter, but no need to listen for space key, as this is handled by the browser\r\n  if (event.key?.startsWith('Arrow')) {\r\n    event.preventDefault?.();\r\n    const inputs = group.getElementsByTagName('input');\r\n    const index = [...inputs].indexOf(event.target);\r\n    const move = event.key.match(/Arrow(Right|Down)/) ? 1 : -1;\r\n    inputs[(inputs.length + index + move) % inputs.length]?.focus();\r\n  }\r\n}\r\n\r\nonHotReload('toggle-group', () => [\r\n  on(document, 'keydown', handleKeydown),\r\n  onMutation(document, handleAriaAttributes, {\r\n    attributeFilter: [ATTR_TOGGLEGROUP],\r\n    attributes: true,\r\n    childList: true,\r\n    subtree: true,\r\n  }),\r\n]);\r\n"],"mappings":";;;AAEA,MAAM,mBAAmB;AACzB,MAAM,uBAAuB,IAAI,iBAAiB;AAElD,SAAS,uBAAuB;AAC9B,MAAK,MAAM,SAAS,SAAS,iBAAiB,qBAAqB,CACjE,oBAAK,OAAO,cAAcA,mBAAK,OAAO,iBAAiB,CAAC;;AAG5D,SAAS,cAAc,OAA+B;CACpD,MAAM,QACJ,MAAM,kBAAkB,oBACxB,MAAM,OAAO,QAAQ,qBAAqB;AAE5C,KAAI,CAAC,MAAO;AACZ,KAAI,MAAM,QAAQ,QAAS,OAAM,OAAO,OAAO;AAC/C,KAAI,MAAM,KAAK,WAAW,QAAQ,EAAE;AAClC,QAAM,kBAAkB;EACxB,MAAM,SAAS,MAAM,qBAAqB,QAAQ;EAClD,MAAM,QAAQ,CAAC,GAAG,OAAO,CAAC,QAAQ,MAAM,OAAO;EAC/C,MAAM,OAAO,MAAM,IAAI,MAAM,oBAAoB,GAAG,IAAI;AACxD,UAAQ,OAAO,SAAS,QAAQ,QAAQ,OAAO,SAAS,OAAO;;;AAInEC,0BAAY,sBAAsB,CAChCC,iBAAG,UAAU,WAAW,cAAc,EACtCC,yBAAW,UAAU,sBAAsB;CACzC,iBAAiB,CAAC,iBAAiB;CACnC,YAAY;CACZ,WAAW;CACX,SAAS;CACV,CAAC,CACH,CAAC"}